<div class="float-right">
  <button mat-icon-button>
    <mat-icon (click)="close()">close</mat-icon>
  </button>
</div>

<h5>{{data.action == 'ADD' ? 'Add' : 'Update'}} Employee</h5>

<div class="text-center">
  <form [formGroup]="employeeForm">

    <div>
      <mat-form-field>
        <input matInput placeholder="First Name" formControlName="firstName" required>
        <mat-error *ngIf="employeeForm.get('firstName').hasError('required')">
          First Name is required
        </mat-error>
        <mat-error *ngIf="employeeForm.get('firstName').hasError('pattern')">
          First Name is invalid
        </mat-error>
        <mat-error *ngIf="employeeForm.get('firstName').hasError('maxLength')">
          Max 30 characters are allowed
        </mat-error>
      </mat-form-field>
    </div>

    <div>
      <mat-form-field>
        <input matInput placeholder="Last Name" formControlName="lastName" required>
        <mat-error *ngIf="employeeForm.get('lastName').hasError('required')">
          Last Name is required
        </mat-error>
        <mat-error *ngIf="employeeForm.get('lastName').hasError('pattern')">
          Last Name is invalid
        </mat-error>
        <mat-error *ngIf="employeeForm.get('lastName').hasError('maxLength')">
          Max 30 characters are allowed
        </mat-error>
      </mat-form-field>
    </div>

    <div>
      <mat-form-field>
        <input matInput placeholder="Mobile" formControlName="mobile" required>
        <mat-error *ngIf="employeeForm.get('mobile').hasError('required')">
          Mobile is required
        </mat-error>
        <mat-error *ngIf="employeeForm.get('mobile').hasError('pattern')">
          Mobile is invalid
        </mat-error>
        <mat-error *ngIf="employeeForm.get('mobile').hasError('alreadyExists')">
          Mobile is already exist
        </mat-error>
      </mat-form-field>
    </div>

    <div>
      <mat-form-field>
        <input matInput [max]="maxDate" formControlName="dateOfBirth" [matDatepicker]="picker"
          placeholder="Birth Date (MM/DD/YYYY)">
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker disabled="false" #picker></mat-datepicker>
        <mat-error *ngIf="employeeForm.get('dateOfBirth').invalid">
          please choose correct birth date
        </mat-error>
      </mat-form-field>
    </div>

    <div>
      <mat-form-field>
        <textarea matInput placeholder="Address" formControlName="address" required rows="3"></textarea>
        <mat-error *ngIf="employeeForm.get('address').hasError('required')">
          Address is required
        </mat-error>
        <mat-error *ngIf="employeeForm.get('address').hasError('maxLength')">
          Max 200 characters are allowed
        </mat-error>
      </mat-form-field>
    </div>

    <div>
      <mat-form-field>
        <input matInput placeholder="City" formControlName="city" required>
        <mat-error *ngIf="employeeForm.get('city').hasError('required')">
          City is required
        </mat-error>
        <mat-error *ngIf="employeeForm.get('city').hasError('maxLength')">
          Max 50 characters are allowed
        </mat-error>
      </mat-form-field>
    </div>

    <div class="mt-3" *ngIf="data.action == 'ADD';else updateBtn">
      <button *ngIf="showBtn" mat-raised-button class="submit-btn" (click)="submit()">Submit</button>
    </div>

    <ng-template #updateBtn>
      <div class="mt-3" *ngIf="showBtn">
        <button mat-raised-button class="submit-btn" (click)="update()">Update</button>
      </div>
    </ng-template>

    <div *ngIf="showSpinner">
      <button mat-raised-button disabled>
        <mat-spinner strokeWidth="3" [diameter]="30" style="margin: 0 auto;"></mat-spinner> saving please wait...
      </button>
    </div>

  </form>
</div>